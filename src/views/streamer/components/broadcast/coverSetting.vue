<template>
  <div class="coverSetting">
    <h2>封面设置</h2>
    <div class="chooseCover">
      <div class="choose">
        <div class="uploadIcon">
          <el-icon><Upload /> </el-icon>
          <p style="font-style: oblique">上传封面</p>
        </div>
        <div class="icon">
          <svg
            t="1721099646731"
            class="icon"
            viewBox="0 0 1324 1024"
            version="1.1"
            xmlns="http://www.w3.org/2000/svg"
            p-id="2874"
            width="200"
            height="200"
          >
            <path
              d="M750.581635 444.984596m-53.612537 0a53.612537 53.612537 0 1 0 107.225074 0 53.612537 53.612537 0 1 0-107.225074 0Z"
              fill="#E6E6E6"
              p-id="2875"
            ></path>
            <path
              d="M880.988771 514.95968l-55.113688-55.124411a58.410859 58.410859 0 0 0-19.000284-81.609004 58.555613 58.555613 0 0 0-77.61487 16.126651 58.405498 58.405498 0 0 0 5.270112 74.183668 58.351886 58.351886 0 0 0 73.819103 8.835346l55.108327 55.124411a12.389857 12.389857 0 0 0 17.5313-17.5313zM806.285061 457.776548a41.726638 41.726638 0 0 1-52.701124 5.189693 41.764167 41.764167 0 0 1-15.376076-50.696015 41.73736 41.73736 0 0 1 80.300859 15.976536 41.635497 41.635497 0 0 1-12.223659 29.529786z"
              fill="#3F3D56"
              p-id="2876"
            ></path>
            <path
              d="M1294.96334 602.112221C1439.186426 761.759635 1021.078331 991.832478 683.244288 991.832478c-337.839404 0-571.568622-178.261687-611.71369-389.720257-97.3282-512.696695 829.262644-838.575142 611.719051-389.720257-317.102075 654.2606 498.124807 263.998857 611.708329 389.720257z"
              fill="#E6E6E6"
              p-id="2877"
            ></path>
            <path
              d="M1230.628295 634.279743C1374.851382 793.927157 956.743286 1024 618.909243 1024 281.069839 1024 47.345982 845.738313 7.195553 634.279743c-97.3282-512.696695 829.262644-838.575142 611.719052-389.720256-317.102075 654.2606 498.124807 263.998857 611.708328 389.720256z"
              fill="#3F3D56"
              p-id="2878"
            ></path>
            <path
              d="M199.224939 261.924587c-100.70579-4.396228-178.78709-25.948468-177.76309-49.060832 0.616544-13.858841 29.111608-24.999526 78.193886-30.569869 0.477152-0.053613 0.948942 0.144754 1.233088 0.525403a1.32423 1.32423 0 0 1 0.160838 1.329591 1.340313 1.340313 0 0 1-1.088334 0.788104c-46.235452 5.248667-75.282725 15.99262-75.818851 28.039357-0.927497 20.903528 79.303665 42.096564 175.200411 46.289065 95.896746 4.187139 177.693394-9.929042 178.620891-30.827209 0.536125-12.105711-27.631902-25.380175-73.513511-34.644422a1.32423 1.32423 0 1 1-0.739853-2.187392 1.345675 1.345675 0 0 1 1.275978-0.418177c48.701629 9.832539 76.274557 23.450124 75.658013 37.367938-1.023999 23.107004-80.713675 37.764671-181.424827 33.368443zM112.59244 262.701969c16.995174 34.815982 49.891827 57.247467 86.348353 58.877289 36.456525 1.635182 70.961554-17.783279 90.573021-50.958717A1495.494924 1495.494924 0 0 1 112.59244 262.701969z"
              fill="#4192EC"
              p-id="2879"
            ></path>
            <path
              d="M300.225599 248.800238c14.073291-41.785612-0.117948-87.811975-35.357469-114.698662-35.244882-26.886687-83.817841-28.73632-121.051748-4.626762-37.233907 24.120281-54.963573 68.924278-44.187453 111.658831a784.72671 784.72671 0 0 0 200.59667 7.666593z"
              fill="#4192EC"
              p-id="2880"
            ></path>
            <path
              d="M225.178769 166.199402m-10.722508 0a10.722507 10.722507 0 1 0 21.445015 0 10.722507 10.722507 0 1 0-21.445015 0Z"
              fill="#FFFFFF"
              p-id="2881"
            ></path>
            <path
              d="M163.524351 201.047551m-18.764388 0a18.764388 18.764388 0 1 0 37.528776 0 18.764388 18.764388 0 1 0-37.528776 0Z"
              fill="#FFFFFF"
              p-id="2882"
            ></path>
            <path
              d="M469.115814 190.325044m-13.403134 0a13.403134 13.403134 0 1 0 26.806268 0 13.403134 13.403134 0 1 0-26.806268 0Z"
              fill="#4192EC"
              p-id="2883"
            ></path>
            <path
              d="M163.524351 608.502835m-8.041881 0a8.041881 8.041881 0 1 0 16.083761 0 8.041881 8.041881 0 1 0-16.083761 0Z"
              fill="#E6E6E6"
              p-id="2884"
            ></path>
            <path
              d="M731.817247 887.28803m-8.041881 0a8.041881 8.041881 0 1 0 16.083762 0 8.041881 8.041881 0 1 0-16.083762 0Z"
              fill="#E6E6E6"
              p-id="2885"
            ></path>
            <path
              d="M203.733754 455.707104m-5.361254 0a5.361254 5.361254 0 1 0 10.722508 0 5.361254 5.361254 0 1 0-10.722508 0Z"
              fill="#E6E6E6"
              p-id="2886"
            ></path>
            <path
              d="M541.492739 761.298567m-5.361253 0a5.361254 5.361254 0 1 0 10.722507 0 5.361254 5.361254 0 1 0-10.722507 0Z"
              fill="#E6E6E6"
              p-id="2887"
            ></path>
            <path
              d="M1147.314412 723.769791m-5.361254 0a5.361254 5.361254 0 1 0 10.722507 0 5.361254 5.361254 0 1 0-10.722507 0Z"
              fill="#E6E6E6"
              p-id="2888"
            ></path>
            <path
              d="M959.670531 836.356119m-5.361254 0a5.361254 5.361254 0 1 0 10.722508 0 5.361254 5.361254 0 1 0-10.722508 0Z"
              fill="#E6E6E6"
              p-id="2889"
            ></path>
            <path
              d="M755.942889 691.602268m-5.361254 0a5.361254 5.361254 0 1 0 10.722508 0 5.361254 5.361254 0 1 0-10.722508 0Z"
              fill="#E6E6E6"
              p-id="2890"
            ></path>
            <path
              d="M498.602709 294.869492m-5.361253 0a5.361254 5.361254 0 1 0 10.722507 0 5.361254 5.361254 0 1 0-10.722507 0Z"
              fill="#E6E6E6"
              p-id="2891"
            ></path>
            <path
              d="M536.131486 96.503103m-5.361254 0a5.361254 5.361254 0 1 0 10.722507 0 5.361254 5.361254 0 1 0-10.722507 0Z"
              fill="#E6E6E6"
              p-id="2892"
            ></path>
            <path
              d="M514.686471 932.858686m-5.361254 0a5.361254 5.361254 0 1 0 10.722507 0 5.361254 5.361254 0 1 0-10.722507 0Z"
              fill="#E6E6E6"
              p-id="2893"
            ></path>
            <path
              d="M310.958829 852.43988m-5.361254 0a5.361254 5.361254 0 1 0 10.722507 0 5.361254 5.361254 0 1 0-10.722507 0Z"
              fill="#E6E6E6"
              p-id="2894"
            ></path>
            <path
              d="M948.948023 702.324776m-5.361253 0a5.361254 5.361254 0 1 0 10.722507 0 5.361254 5.361254 0 1 0-10.722507 0Z"
              fill="#E6E6E6"
              p-id="2895"
            ></path>
            <path
              d="M198.3725 300.230745m-10.722507 0a10.722507 10.722507 0 1 0 21.445015 0 10.722507 10.722507 0 1 0-21.445015 0Z"
              fill="#FFFFFF"
              p-id="2896"
            ></path>
            <path
              d="M471.796441 484.781183c0 36.467248-56.679175 121.432397-73.245449 145.488343a5.452395 5.452395 0 0 1-8.985461 0C372.999257 606.218941 316.320082 521.248431 316.320082 484.781183 316.320082 442.073436 351.125342 407.45582 394.058262 407.45582S471.796441 442.073436 471.796441 484.781183z"
              fill="#FFFFFF"
              p-id="2897"
            ></path>
            <path
              d="M396.738888 482.513373m-37.528776 0a37.528776 37.528776 0 1 0 75.057553 0 37.528776 37.528776 0 1 0-75.057553 0Z"
              fill="#4192EC"
              p-id="2898"
            ></path>
            <path
              d="M353.848859 670.157253a45.570657 10.722507 0 1 0 91.141313 0 45.570657 10.722507 0 1 0-91.141313 0Z"
              fill="#FFFFFF"
              p-id="2899"
            ></path>
            <path
              d="M1099.116741 425.968229c-0.34312 0.680879-0.632628 1.393926-0.863162 2.117696l-64.576302 18.3891-11.63392-11.67145L1002.560561 450.495965l18.641079 22.710271a10.636727 10.636727 0 0 0 12.641836 3.002302l69.749911-31.550978a13.907092 13.907092 0 0 0 16.126652 0.037529 14.71128 14.71128 0 0 0 5.736541-15.440411c-1.404648-5.875934-6.208332-10.239995-12.062821-10.969125a14.100097 14.100097 0 0 0-14.277018 7.682676z"
              fill="#FFB8B8"
              p-id="2900"
            ></path>
            <path
              d="M1032.40666 445.563612l-23.980888 19.536408c-1.383203 1.125863-3.16314 1.565486-4.878741 1.206282a6.042133 6.042133 0 0 1-4.058469-3.077359l-14.904285-27.610457c-5.618594-7.645148-4.267558-18.60355 3.018386-24.50093 7.285944-5.90274 17.761834-4.519537 23.417956 3.093444l21.847109 21.825664c1.265256 1.265256 1.940774 3.045192 1.854994 4.87338a6.395976 6.395976 0 0 1-2.316062 4.653568z"
              fill="#4192EC"
              p-id="2901"
            ></path>
            <path
              d="M1108.825971 418.53217l25.192531 10.427639c2.198114 0.911413 3.179223 3.286449 2.187392 5.307641l-2.980857 6.101107c0.729131 0.305591 1.056167 1.093696 0.72913 1.769214l-1.195559 2.43937a1.511874 1.511874 0 0 1-1.919329 0.670157l-1.19556 2.43937c0.729131 0.305591 1.056167 1.093696 0.729131 1.769214l-1.190198 2.43937a1.511874 1.511874 0 0 1-1.924691 0.670157l-16.105206 32.939543c-0.991832 2.021193-3.570595 2.927245-5.768709 2.015831l-25.192531-10.427638c-2.198114-0.911413-3.179223-3.286449-2.187392-5.307641l25.053139-51.237502c0.991832-2.021193 3.570595-2.927245 5.768709-2.015832z"
              fill="#3F3D56"
              p-id="2902"
            ></path>
            <path
              d="M1085.370486 478.385207l19.665079 9.119493a4.042385 4.042385 0 0 0 5.38806-2.09625l9.081964-20.807026 3.152417-7.210887 8.218802-18.828723a4.251474 4.251474 0 0 0-2.037277-5.532813l-6.181525-2.873632-13.494276-6.251222a4.02094 4.02094 0 0 0-5.377337 2.112334l-7.945378 18.201456-9.055158 20.721246-3.447286 7.907849a4.246113 4.246113 0 0 0 2.037276 5.538175z"
              fill="#F2F2F2"
              p-id="2903"
            ></path>
            <path
              d="M1040.089337 729.131044h14.528998l6.916017-64.335044h-21.445015z"
              fill="#FFB8B8"
              p-id="2904"
            ></path>
            <path
              d="M1040.089337 718.408537h32.746538c5.532814 0 10.840455 2.187392 14.75417 6.085023a20.715884 20.715884 0 0 1 6.111829 14.684474V739.853552h-53.612537v-21.445015z"
              fill="#2F2E41"
              p-id="2905"
            ></path>
            <path
              d="M1082.979367 723.769791h14.528997l6.916018-64.335045h-21.445015z"
              fill="#FFB8B8"
              p-id="2906"
            ></path>
            <path
              d="M1082.979367 713.047283h32.746538c5.532814 0 10.840455 2.187392 14.75417 6.085023a20.715884 20.715884 0 0 1 6.111829 14.684474V734.492298h-53.612537v-21.445015zM968.302149 576.421093a53.285501 53.285501 0 0 0 49.897189 36.13485l0.841717 0.010723c8.561922 0.241256 18.608912-2.509067 28.468257-6.45495 19.477435-7.805985 38.177488-20.297707 43.142009-23.73427l-8.411807 80.579644-3.409758 32.67148c-0.17156 1.704879 0.38601 3.409757 1.53868 4.685736 1.158031 1.275978 2.798574 2.005109 4.524898 2.01047h21.000031c2.771768 0 5.195055-1.860355 5.897379-4.53026l34.67659-131.602695a25.583903 25.583903 0 0 0-5.061024-22.87647 25.782269 25.782269 0 0 0-21.59513-9.242801l-72.033805 4.921631 5.034217-20.051089L988.514076 514.680895l-0.187644 0.134031a71.251062 71.251062 0 0 0-4.476647 3.516983 54.341668 54.341668 0 0 0-9.45189 10.325774 51.720015 51.720015 0 0 0-6.101107 47.76341z"
              fill="#2F2E41"
              p-id="2907"
            ></path>
            <path
              d="M968.275343 579.005217c7.189441 21.59513 27.06897 36.231353 49.55943 36.488693a262.717517 262.717517 0 0 0 30.31789-18.228262l-1.211644 11.725061-10.529502 102.651926c-0.17156 1.726324 0.380649 3.447286 1.527957 4.733987 1.147308 1.286701 2.777129 2.026554 4.492731 2.031915h20.855277c2.750323 0 5.157526-1.876439 5.854489-4.573149l12.293355-47.436374 22.147339-85.474468a26.168279 26.168279 0 0 0-5.023495-23.107003 25.412343 25.412343 0 0 0-21.445015-9.328582l-71.54057 4.964521 4.996689-20.254817-36.242075-2.434009a52.974548 52.974548 0 0 0-6.058217 48.240561z"
              fill="#2F2E41"
              p-id="2908"
            ></path>
            <path
              d="M978.300888 527.869579l-0.482513-0.058974-11.274717-55.049353c-0.096503-0.482513-9.312498-47.961776 18.94131-72.784381l0.487874-3.393673c0.25734-1.763852 1.275978-3.323977 2.787852-4.27292 1.511874-0.948942 3.366867-1.190198 5.077107-0.664795l26.613263 8.202718c3.130972 0.954303 4.943076 4.197862 4.10136 7.344918l-2.584125 9.768204c3.586679 4.181778 45.817274 54.684788 31.105994 93.586045L1046.485313 536.12591l-68.184425-8.256331z"
              fill="#4192EC"
              p-id="2909"
            ></path>
            <path
              d="M1093.305142 477.275428c-0.637989 0.407455-1.243811 0.857801-1.806743 1.361758l-65.267903-17.665331L1021.968299 444.984596l-24.763631 3.340061 4.825129 29.036551c0.804188 4.825128 4.664291 8.524393 9.473335 9.103409l76.344253 9.092686a14.287741 14.287741 0 0 0 13.992872 8.363556 14.330631 14.330631 0 0 0 12.706172-10.223911 14.491469 14.491469 0 0 0-4.991327-15.60661 14.207322 14.207322 0 0 0-16.244599-0.81491z"
              fill="#FFB8B8"
              p-id="2910"
            ></path>
            <path
              d="M1024.027021 467.587642l-30.650288 4.14961c-1.763852 0.241256-3.538427-0.34312-4.862657-1.586931a6.588981 6.588981 0 0 1-2.037276-4.910908l0.589737-32.381973c-1.147308-9.768204 5.447034-18.667886 14.743448-19.900973 9.291053-1.227727 17.777917 5.682929 18.978838 15.44041l8.347473 31.068466c0.482513 1.79602 0.198366 3.731433-0.782744 5.291557a6.090384 6.090384 0 0 1-4.326531 2.830742z"
              fill="#4192EC"
              p-id="2911"
            ></path>
            <path
              d="M1015.963695 345.801402m-34.848149 0a34.848149 34.848149 0 1 0 69.696298 0 34.848149 34.848149 0 1 0-69.696298 0Z"
              fill="#FFB8B8"
              p-id="2912"
            ></path>
            <path
              d="M1017.861579 350.160101l-4.326532-7.704121C1005.348413 375.089931 1019.813075 402.094566 1019.813075 402.094566l-56.143049-25.57318 0.536126-9.076602-5.559621 6.165441-7.977545-4.299725-1.056167-5.886657-6.026049 1.458261 21.991862-39.029927c21.348512-37.142766 52.379449-22.96225 52.379449-22.96225 49.377147-2.294617 43.345736 45.340123 43.345737 45.340123l-43.442239 1.930051z"
              fill="#2F2E41"
              p-id="2913"
            ></path>
            <path
              d="M587.95527 551.089417a64.045537 16.42152 57.338 1 0 27.649535-17.724801 64.045537 16.42152 57.338 1 0-27.649535 17.724801Z"
              fill="#3F3D56"
              p-id="2914"
            ></path>
          </svg>
        </div>
        <input
          type="file"
          class="upload"
          title=""
          @change="upload($event)"
          accept="image/png,image/gif,image/jpeg,image/jpg"
        />
      </div>
      <div class="covers">
        <p class="title">合适的封面可以吸引更多用户</p>

        <div class="coverChosen">
          <coverStyle
            @index="del(index)"
            @changeIndex="change(index)"
            v-for="(cover, index) in coverBlob"
            key="index"
            :id="index"
            :cover="cover"
          />
        </div>
      </div>
    </div>
  </div>
</template>
<script setup lang="ts">
import { reactive, ref } from "vue";
import coverStyle from "./cover.vue";
import { defineEmits } from "vue";
//向外传递封面
const emit = defineEmits(["cover"]);
let coverBlob = reactive<Array<string>>([]);
const upload = (event: any) => {
  if (coverBlob.length >= 3) {
    coverBlob.splice(0, 1);
  }
  const file = event.target.files[0];
  let src = URL.createObjectURL(file);
  console.log(src);
  coverBlob.push(src);
  emit("cover", src);
};
function del(index: number) {
  coverBlob.splice(index, 1);
}
function change(index: number) {
  emit("cover", coverBlob[index]);
}
</script>
<style lang="scss" scoped>
@import url("http://at.alicdn.com/t/c/font_4515498_kgflfyz9p7.css");
.title {
  padding: 0 10px;
  padding-top: 5px;
}
.coverSetting {
  padding: 20px;
}
.chooseCover {
  display: flex;
  justify-content: space-between;
  gap: 10px;
  .upload {
    opacity: 0;
    width: 100%;
    height: 100%;
    border-radius: 5px;
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
  }
  .uploadIcon {
    text-align: center;
    position: relative;
    pointer-events: none;
  }
  .choose {
    position: relative;
    height: 180px;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition-duration: 0.25s;
    width: 180px;
    border-radius: 5px;
    overflow: hidden;
    border: 1px #ccc dashed;
    .el-icon {
      font-size: 28px;
      transition-duration: 0.25s;
    }
    p {
      transition-duration: 0.25s;
    }
    .icon {
      position: absolute;
      top: 20px;
      left: 2px;
      z-index: -1;
      svg {
        width: 100px;
      }
    }
  }

  .choose:hover {
    border: 1px dashed var(--el-color-success-light-5);

    .uploadIcon {
      .el-icon {
        color: var(--el-color-success-light-5);
      }
      p {
        color: var(--el-color-success-light-5);
      }
    }
  }
  .covers {
    background-color: #f2f2f4;
    width: 80%;
    border-radius: 5px;
    .coverChosen {
      padding: 10px;
      display: flex;
      gap: 5px;
      max-width: 600px;
      overflow: hidden;
      overflow-x: auto;
      justify-content: flex-start;
      align-items: center;
    }
    .coverChosen::-webkit-scrollbar {
      width: 5px;
      height: 7px;
      cursor: pointer;
    }
    .coverChosen::-webkit-scrollbar-thumb {
      background-color: #95d4757e;
      border-radius: 10px;
    }
    .cover {
      width: 135px;
      height: 90px;
      border-radius: 5px;
      img {
        width: 100%;
        height: 100%;
        border-radius: 5px;
      }
    }
  }
}
.el-radio__input {
  position: absolute;
}
</style>
